# SmartBCH TestNet Doc

éƒ¨ç½²åˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼š

1. å®‰è£…ä¾èµ–ï¼Œç¼–è¯‘èŠ‚ç‚¹äºŒè¿›åˆ¶
2. ç”Ÿæˆç»Ÿä¸€çš„genesis.json
3. ä»ç›¸åŒçš„genesis.jsonå¯åŠ¨èŠ‚ç‚¹

## å®‰è£…

å‚è€ƒhttps://docs.smartbch.org/smartbch/deverlopers-guide/runsinglenode æ–‡æ¡£å®‰è£…ä¾èµ–å’Œç¼–è¯‘èŠ‚ç‚¹ï¼Œæ³¨æ„è¯·è¿è¡Œåˆ°step4ï¼ˆåŒ…å«ï¼‰å°±åœæ­¢ä¸‹æ¥ã€‚

âš ï¸è·å–èŠ‚ç‚¹ä»£ç æ—¶ä½¿ç”¨v0.1.1ç‰ˆæœ¬ï¼Œè€Œä¸æ˜¯æ–‡æ¡£ä¸­çš„v0.1.0

æ­¤æ—¶ï¼Œæˆ‘ä»¬æ‹¥æœ‰äº†ç¼–è¯‘å¥½çš„smartbchdæ–‡ä»¶ã€‚

## ç”Ÿæˆgenesis.jsonæ–‡ä»¶

#### step 1. åˆå§‹åŒ–å·¥ä½œç›®å½•

èŠ‚ç‚¹è¿è¥äººå‘˜è¯·è¾“å…¥ä¸‹é¢çš„å‘½ä»¤æ¥åˆå§‹åŒ–èŠ‚ç‚¹å·¥ä½œç›®å½•

```
./build/smartbchd init freedomMan --chain-id 0x2711
```

âš ï¸å¼€å‘å›¢é˜Ÿè¯·è¾“å…¥ä¸‹é¢çš„å‘½ä»¤æ¥åˆå§‹åŒ–ä¸€ä¸ªgenesisè´¦å·

```
./build/smartbchd init freedomMan --chain-id 0x2711 \
  --init-balance=10000000000000000000 \
  --test-keys="37929f578acf92f58f14c5b9cd45ff28c2868c2ba194620238f25d354926a287"
```

#### step 2. ç”Ÿæˆgenesis validator

è¾“å…¥ä¸‹é¢çš„å‘½ä»¤æ¥ç”Ÿæˆvalidatorä¿¡æ¯ï¼Œå‚æ•°ä¸ºvalidatorçš„æ“ä½œè´¦æˆ·çš„ç§é’¥ã€‚ä¾‹å¦‚ä¸‹é¢çš„37929f578acf92f58f14c5b9cd45ff28c2868c2ba194620238f25d354926a287

```
./build/smartbchd generate-genesis-validator 37929f578acf92f58f14c5b9cd45ff28c2868c2ba194620238f25d354926a287

7b2241646472657373223a5b3133312c3137372c3232362c33382c3134322c3135312c3130392c32302c3230352c3233312c3139342c35392c3137302c3134382c3133362c3131362c342c3235342c3131332c3136315d2c225075626b6579223a5b33382c3131362c31312c3132322c32342c31332c34332c3233392c3231382c38392c3234392c36332c3132312c31332c3134332c3233372c35342c31342c33322c3233372c3230302c3130322c3231312c34342c32392c39332c3132392c322c39302c3232392c3234342c3135375d2c22526577617264546f223a5b302c302c302c302c302c302c302c302c302c302c302c302c302c302c302c302c302c302c302c305d2c22566f74696e67506f776572223a312c22496e74726f64756374696f6e223a2267656e657369735f76616c696461746f72222c225374616b6564436f696e73223a5b302c302c302c302c302c302c302c302c302c302c302c302c302c302c302c302c302c302c302c302c302c302c302c35342c35332c3230312c3137332c3139372c3232322c3136302c302c305d2c2249735265746972696e67223a66616c73657d
```

å°†å‘½ä»¤è¿”å›çš„å†…å®¹copyç»™å¼€å‘å›¢é˜Ÿï¼Œè¿™ä¸²å†…å®¹ä»£è¡¨ä¸€ä¸ªvalidatorçš„ä¿¡æ¯ï¼ŒåŒ…å«å…¶æ“ä½œåœ°å€ï¼ŒèŠ‚ç‚¹å·¥ä½œç›®å½•ä¸­çš„å…±è¯†å…¬é’¥ï¼Œç®—åŠ›ï¼ˆå½“å‰ä¸ºé»˜è®¤ï¼‰å’Œè´¨æŠ¼é‡‘é¢ï¼ˆé»˜è®¤ï¼‰ã€‚

å¤‡æ³¨ğŸ“’ï¼šç§é’¥å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤ç”Ÿæˆï¼š

```
./build/smartbchd gen-test-keys -n 1
```



#### step 3. æ”¶é›†validatorä¿¡æ¯

å¼€å‘å›¢é˜Ÿæ”¶é›†æ‰€æœ‰çš„validatorä¿¡æ¯ï¼Œé€šè¿‡ä¸‹é¢çš„å‘½ä»¤ä¾æ¬¡å°†validatorä¿¡æ¯æ·»åŠ åˆ°genesis.jsonä¸­ã€‚

```
./build/smartbchd add-genesis-validator 7b2241646472657373223a5b3133312c3137372c3232362c33382c3134322c3135312c3130392c32302c3230352c3233312c3139342c35392c3137302c3134382c3133362c3131362c342c3235342c3131332c3136315d2c225075626b6579223a5b3134312c39372c34312c39372c3138322c33352c3232302c3139392c3232302c31382c37352c38382c3137322c3135312c38322c3133332c39332c39312c3134342c3134362c3233322c32392c3231312c3231332c3135382c3233382c3232322c3134362c3231372c3138302c33372c3130355d2c22526577617264546f223a5b302c302c302c302c302c302c302c302c302c302c302c302c302c302c302c302c302c302c302c305d2c22566f74696e67506f776572223a312c22496e74726f64756374696f6e223a2267656e657369735f76616c696461746f72222c225374616b6564436f696e73223a5b302c302c302c302c302c302c302c302c302c302c302c302c302c302c302c302c302c302c302c302c302c302c302c35342c35332c3230312c3137332c3139372c3232322c3136302c302c305d2c2249735265746972696e67223a66616c73657d
```

è¯·å¤šæ¬¡è°ƒç”¨è¯¥å‘½ä»¤ï¼Œç›´åˆ°æ‰€æœ‰çš„validatorä¿¡æ¯è¢«æ·»åŠ ã€‚

ç›´åˆ°æ­¤æ—¶ï¼Œå¼€å‘å›¢é˜Ÿæœ¬åœ°çš„å·¥ä½œç›®å½•ä¸­çš„genesis.jsonåŒ…å«äº†ä¸€ä¸ªæ‹¥æœ‰BCHçš„gensisè´¦æˆ·ï¼Œå…¨éƒ¨genesis validatorä¿¡æ¯ã€‚

å¼€å‘å›¢é˜Ÿå°†è¯¥genesis.jsonæ–‡ä»¶åˆ†å‘ç»™å„ä¸ªè¿è¥äººå‘˜ã€‚è¿è¥äººå‘˜ç”¨è¯¥genesis.jsonæ›¿æ¢æ‰å…¶æœ¬åœ°å·¥ä½œç›®å½•ä¸­çš„genesis.json

è¯¥æ–‡ä»¶çš„ä½ç½®æ˜¯

```
~/.smartbchd/config/genesis.json
```

âš ï¸è¯·åŠ¡å¿…ç¡®è®¤æ›¿æ¢æˆåŠŸã€‚

## å¯åŠ¨

#### step 1. æ·»åŠ seedä¿¡æ¯

è¾“å…¥ä¸‹åˆ—å‘½ä»¤å¯åŠ¨èŠ‚ç‚¹ï¼Œç­‰å¾…2ç§’ä¸­åctrc-cæ‰ç¨‹åºï¼Œè¿™ä¸€æ­¥æ˜¯ä¸ºäº†è·å–èŠ‚ç‚¹idä¿¡æ¯ã€‚

```
./build/smartbchd start
```

åœ¨è¾“å‡ºçš„logä¸­æœç´¢`This Node ID`åç»­çš„å­—ç¬¦ä¸²å³èŠ‚ç‚¹ID

```
This Node ID: f392e4c7f2024e4f7d51a2d4f8cf08ddc4ac4532
```

æ¥ç€ï¼Œå°†èŠ‚ç‚¹IDä¸æœ¬æœºå™¨å…¬ç½‘IPï¼Œç«¯å£å·26656ç»„åˆæˆp2p seedï¼Œä¾‹å¦‚ï¼š

```
f392e4c7f2024e4f7d51a2d4f8cf08ddc4ac4532@45.32.38.25:26656
```

å°†è¯¥seedä¼ æ’­ç»™å…¶ä»–èŠ‚ç‚¹è¿è¥äººå‘˜

å°†æ”¶åˆ°çš„å…¶ä»–èŠ‚ç‚¹çš„seedæ·»åŠ åˆ°å·¥ä½œç›®å½•çš„config.tomlæ–‡ä»¶ä¸­ï¼Œæ–‡ä»¶ä½ç½®ï¼š

```
~/.smartbchd/config/config.toml
```

æ‰“å¼€æ–‡ä»¶ï¼Œæœç´¢`seeds = ""`ï¼Œå°†æ”¶é›†åˆ°çš„seedæ·»åŠ åˆ°åŒå¼•å·ä¸­ï¼Œå¤šä¸ªseedç”¨é€—å·åˆ†éš”ã€‚ä¾‹å¦‚

```
seeds = "f392e4c7f2024e4f7d51a2d4f8cf08ddc4ac4532@45.32.38.25:26656"
```

âš ï¸seedæ˜¯è¿›è¡Œp2pé€šä¿¡ä½¿ç”¨ï¼Œå»ºè®®æ·»åŠ 5ä¸ªä»¥ä¸Šçš„seedï¼Œä»¥å…å‡ºç°è¿æ¥ä¸ç•…çš„é—®é¢˜ã€‚

#### step 2. å¯åŠ¨

```
./build/smartbchd start
```

è¾“å…¥è¯¥å‘½ä»¤åï¼Œå¦‚æœç½‘ç»œé€šç•…ï¼Œä¸Šè¿°æ“ä½œæ— è¯¯ï¼Œæˆ‘ä»¬å°†ä¼šçœ‹åˆ°å‡ºå—æ—¥å¿—ã€‚

âš ï¸æ­£å¸¸å‡ºå—åï¼Œè¯·å„ä¸ªèŠ‚ç‚¹è‡ªè¡Œä½¿ç”¨ç†Ÿæ‚‰çš„è¿›ç¨‹ç®¡ç†å·¥å…·å¦‚systemdæ¥ç®¡ç†smartbchdè¿›ç¨‹ã€‚



